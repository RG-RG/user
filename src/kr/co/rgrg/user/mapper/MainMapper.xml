<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.rgrg.user.main">


	<!-- 메인화면의 글 목록, 최신순 정렬 -->
	<select id="selectMainList" 
	parameterType="kr.co.rgrg.user.pagination.RangeVO"
	resultType="kr.co.rgrg.user.main.domain.UserMainDomain">
		select post_num, id, post_title, post_content, thumbnail, input_date
		from (
			select post_num, id, post_title, post_content, thumbnail, input_date, row_number() over(order by input_date desc) rnum
			from post
			where delete_flag='F' and hidden_flag='F' and publish_flag='F'
		)
		where rnum between #{ start_num } and #{ end_num }
	</select>
  
</mapper>